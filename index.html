<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>Document</title>
</head>
<script type="text/javascript">
<body>
    <p>できた！</p>
    // 子供の名前とポイントを保存するオブジェクト
let child = {
  name: "太郎",
  points: 0
};

// お手伝いや自分でできたことを記録する配列
let tasks = [];

// カレンダーを表示する関数
function showCalendar() {
  // 現在の日付を取得する
  let today = new Date();
  let year = today.getFullYear();
  let month = today.getMonth() + 1;
  let date = today.getDate();

  // カレンダーのタイトルを表示する
  console.log(year + "年" + month + "月");

  // カレンダーのヘッダーを表示する
  console.log("日 月 火 水 木 金 土");

  // カレンダーの最初の空白を計算する
  let firstDay = new Date(year, month - 1, 1).getDay();
  let space = "";
  for (let i = 0; i < firstDay; i++) {
    space += "   ";
  }

  // カレンダーの日付を表示する
  let days = new Date(year, month, 0).getDate();
  for (let i = 1; i <= days; i++) {
    // 日付を2桁に揃える
    let day = (" " + i).slice(-2);

    // 現在の日付には*をつける
    if (i === date) {
      day += "*";
    } else {
      day += " ";
    }

    // 日付と空白を連結する
    space += day;

    // 土曜日か最終日なら改行する
    if ((i + firstDay) % 7 === 0 || i === days) {
      console.log(space);
      space = "";
    }
  }
}

// ポイントを貯める関数
function earnPoints(amount) {
  // ポイントを加算する
  child.points += amount;

  // ポイントを表示する
  console.log(child.name + "さんは" + amount + "ポイント貯めました。");
  console.log("現在のポイントは" + child.points + "ポイントです。");
}

// ポイントを使う関数
function usePoints(amount) {
  // ポイントが足りるか確認する
  if (child.points >= amount) {
    // ポイントを減算する
    child.points -= amount;

    // ポイントを表示する
    console.log(child.name + "さんは" + amount + "ポイント使いました。");
    console.log("現在のポイントは" + child.points + "ポイントです。");
  } else {
    // ポイントが足りない場合は警告する
    console.log("ポイントが足りません。");
    console.log("現在のポイントは" + child.points + "ポイントです。");
  }
}

// タスクを追加する関数
function addTask(name, points) {
  // タスクを作成する
  let task = {
    name: name,
    points: points,
    done: false,
    score: null
  };

  // タスクを配列に追加する
  tasks.push(task);

  // タスクを表示する
  console.log(name + "(" + points + "ポイント)" + "を追加しました。");
}

// タスクを完了する関数
function completeTask(index) {
  // タスクが存在するか確認する
  if (index >= 0 && index < tasks.length) {
    // タスクを完了にする
    tasks[index].done = true;

    // タスクを表示する
    console.log(tasks[index].name + "を完了しました。");
  } else {
    // タスクが存在しない場合は警告する
    console.log("そのタスクはありません。");
  }
}

// タスクに点数をつける関数
function scoreTask(index, score) {
  // タスクが存在するか確認する
  if (index >= 0 && index < tasks.length) {
    // タスクが完了しているか確認する
    if (tasks[index].done) {
      // 点数が有効な範囲か確認する
      if (score >= 0 && score <= 5) {
        // タスクに点数をつける
        tasks[index].score = score;

        // タスクのポイントと点数の積を子供のポイントに加算する
        earnPoints(tasks[index].points * score);

        // タスクを表示する
        console.log(tasks[index].name + "に" + score + "点をつけました。");
      } else {
        // 点数が有効な範囲でない場合は警告する
        console.log("点数は0から5の整数で入力してください。");
      }
    } else {
      // タスクが完了していない場合は警告する
      console.log("そのタスクはまだ完了していません。");
    }
  } else {
    // タスクが存在しない場合は警告する
    console.log("そのタスクはありません。");
  }
}

// タスクを表示する関数
function showTasks() {
  // タスクがあるか確認する
  if (tasks.length > 0) {
    // タスクの一覧を表示する
    console.log("タスクの一覧:");
    for (let i = 0; i < tasks.length; i++) {
      let task = tasks[i];
      let status = "";
      if (task.done) {
        status += "完了";
        if (task.score !== null) {
          status += "(" + task.score + "点)";
        }
      } else {
        status += "未完了";
      }
      console.log(i + ": " + task.name + "(" + task.points + "ポイント)" + " - " + status);
    }
  } else {
    // タスクがない場合はメッセージを表示する
    console.log("タスクはありません。");
  }
}

// テスト用のコード

// カレンダーを表示する
showCalendar();

// タスクを追加する
addTask("朝ごはんを食べる", 1);
addTask("歯磨きをする", 1);
addTask("部屋の掃除をする", 2);
addTask("宿題をする", 3);

// タスクを完了する
completeTask(0);
completeTask(1);
completeTask(2);
completeTask(3);

// タスクに点数をつける
scoreTask(0, 5);
scoreTask(1, 4);
scoreTask(2, 3);
score
</body>
</html>